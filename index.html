<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Game Home Screen</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #333;
            color: #fff;
            text-align: center;
            margin: 0;
            padding: 0;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        h1 {
            font-size: 3em;
            margin-bottom: 20px;
        }
        .game-menu {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        button {
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.2em;
            cursor: pointer;
            border-radius: 5px;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #45a049;
        }
        iframe {
            width: 90%;
            height: 80vh;
            border: none;
            display: none;
        }
        #back-button {
            margin-top: 20px;
            display: none;
            background-color: #f44336;
        }
    </style>
</head>
<body>
    <h1>Welcome to the Game Hub</h1>
    <div class="game-menu" id="game-menu">
        <button onclick="loadGame('game1')">Die Betting Game</button>
        <button onclick="loadGame('game2')">Die Betting Game (Custom Bet)</button>
        <button onclick="loadGame('game3')">Blackjack Game</button>
    </div>

    <iframe id="game-frame"></iframe>
    <button id="back-button" onclick="goHome()">Back to Home</button>

    <script>
        function loadGame(game) {
            const frame = document.getElementById('game-frame');
            const menu = document.getElementById('game-menu');
            const backButton = document.getElementById('back-button');
            
            if (game === 'game1') {
                frame.src = "data:text/html;base64,PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8dGl0bGU+RGllIEJldHRpbmcgR2FtZSAtIEN1c3RvbSBCZXQ8L3RpdGxlPgogICAgPHN0eWxlPgogICAgICAgIGJvZHkgewogICAgICAgICAgICBmb250LWZhbWlseTogQXJpYWwsIHNhbnMtc2VyaWY7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgICBoZWlnaHQ6IDEwMHZoOwogICAgICAgICAgICBtYXJnaW46IDA7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMxMjEyMTI7CiAgICAgICAgICAgIGNvbG9yOiAjZTBlMGUwOwogICAgICAgICAgICBmb250LXNpemU6IDE4cHg7CiAgICAgICAgfQogICAgICAgIC5nYW1lLWNvbnRhaW5lciB7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMxZTFlMWU7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDE1cHg7CiAgICAgICAgICAgIHBhZGRpbmc6IDQwcHg7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgNnB4IDhweCByZ2JhKDI1NSwyNTUsMjU1LDAuMSk7CiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAgICAgd2lkdGg6IDUwMHB4OwogICAgICAgICAgICBtYXgtd2lkdGg6IDkwJTsKICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgIzMzMzsKICAgICAgICB9CiAgICAgICAgaDEgewogICAgICAgICAgICBmb250LXNpemU6IDIuNWVtOwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4OwogICAgICAgICAgICBjb2xvcjogI2ZmZmZmZjsKICAgICAgICB9CiAgICAgICAgLmJldC1pbnB1dC1jb250YWluZXIgewogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDsKICAgICAgICB9CiAgICAgICAgLmJldC1pbnB1dCB7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMyYzJjMmM7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDsKICAgICAgICAgICAgcGFkZGluZzogMTBweDsKICAgICAgICAgICAgYm9yZGVyOiAycHggc29saWQgIzQ0NDsKICAgICAgICB9CiAgICAgICAgLmJldC1pbnB1dCBzcGFuIHsKICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiAxMHB4OwogICAgICAgICAgICBjb2xvcjogIzg4ODsKICAgICAgICB9CiAgICAgICAgI2N1c3RvbS1iZXQgewogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDsKICAgICAgICAgICAgYm9yZGVyOiBub25lOwogICAgICAgICAgICBjb2xvcjogI2UwZTBlMDsKICAgICAgICAgICAgZm9udC1zaXplOiAxOHB4OwogICAgICAgICAgICB3aWR0aDogMTUwcHg7CiAgICAgICAgICAgIHRleHQtYWxpZ246IHJpZ2h0OwogICAgICAgICAgICBvdXRsaW5lOiBub25lOwogICAgICAgIH0KICAgICAgICAuaW5wdXQtZXJyb3IgewogICAgICAgICAgICBib3JkZXItY29sb3I6ICNGRjUyNTIgIWltcG9ydGFudDsKICAgICAgICB9CiAgICAgICAgLmRpY2UtY29udGFpbmVyIHsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDMwcHg7CiAgICAgICAgICAgIHBlcnNwZWN0aXZlOiAxMDAwcHg7CiAgICAgICAgfQogICAgICAgIC5kaWUgewogICAgICAgICAgICB3aWR0aDogMjAwcHg7CiAgICAgICAgICAgIGhlaWdodDogMjAwcHg7CiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgICAgICAgICAgdHJhbnNmb3JtLXN0eWxlOiBwcmVzZXJ2ZS0zZDsKICAgICAgICAgICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDFzOwogICAgICAgIH0KICAgICAgICAuZGllLWZhY2UgewogICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgICAgICBoZWlnaHQ6IDEwMCU7CiAgICAgICAgICAgIGJvcmRlcjogM3B4IHNvbGlkICM1NTU7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDE1cHg7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMyYTJhMmE7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgICBiYWNrZmFjZS12aXNpYmlsaXR5OiBoaWRkZW47CiAgICAgICAgfQogICAgICAgIC5kaWUtZmFjZSAuZG90cyB7CiAgICAgICAgICAgIGRpc3BsYXk6IGdyaWQ7CiAgICAgICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDMsIDFmcik7CiAgICAgICAgICAgIGdyaWQtdGVtcGxhdGUtcm93czogcmVwZWF0KDMsIDFmcik7CiAgICAgICAgICAgIHdpZHRoOiA4MCU7CiAgICAgICAgICAgIGhlaWdodDogODAlOwogICAgICAgIH0KICAgICAgICAuZGllLWZhY2UgLmRvdCB7CiAgICAgICAgICAgIHdpZHRoOiAyNXB4OwogICAgICAgICAgICBoZWlnaHQ6IDI1cHg7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNlMGUwZTA7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTsKICAgICAgICAgICAgbWFyZ2luOiA4cHg7CiAgICAgICAgfQogICAgICAgIC5kaWUtZmFjZS0xIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVaKDEwMHB4KTsgfQogICAgICAgIC5kaWUtZmFjZS0yIHsgdHJhbnNmb3JtOiByb3RhdGVZKDE4MGRlZykgdHJhbnNsYXRlWigxMDBweCk7IH0KICAgICAgICAuZGllLWZhY2UtMyB7IHRyYW5zZm9ybTogcm90YXRlWSg5MGRlZykgdHJhbnNsYXRlWigxMDBweCk7IH0KICAgICAgICAuZGllLWZhY2UtNCB7IHRyYW5zZm9ybTogcm90YXRlWSgtOTBkZWcpIHRyYW5zbGF0ZVooMTAwcHgpOyB9CiAgICAgICAgLmRpZS1mYWNlLTUgeyB0cmFuc2Zvcm06IHJvdGF0ZVgoLTkwZGVnKSB0cmFuc2xhdGVaKDEwMHB4KTsgfQogICAgICAgIC5kaWUtZmFjZS02IHsgdHJhbnNmb3JtOiByb3RhdGVYKDkwZGVnKSB0cmFuc2xhdGVaKDEwMHB4KTsgfQoKICAgICAgICAuZGllLnJvbGxpbmcgewogICAgICAgICAgICBhbmltYXRpb246IHJvbGwgMS41cyBpbmZpbml0ZSBsaW5lYXI7CiAgICAgICAgfQogICAgICAgIEBrZXlmcmFtZXMgcm9sbCB7CiAgICAgICAgICAgIDAlIHsgdHJhbnNmb3JtOiByb3RhdGVYKDBkZWcpIHJvdGF0ZVkoMGRlZyk7IH0KICAgICAgICAgICAgMjUlIHsgdHJhbnNmb3JtOiByb3RhdGVYKDE4MGRlZykgcm90YXRlWSg5MGRlZyk7IH0KICAgICAgICAgICAgNTAlIHsgdHJhbnNmb3JtOiByb3RhdGVYKDM2MGRlZykgcm90YXRlWSgyNzBkZWcpOyB9CiAgICAgICAgICAgIDc1JSB7IHRyYW5zZm9ybTogcm90YXRlWCg1NDBkZWcpIHJvdGF0ZVkoMTgwZGVnKTsgfQogICAgICAgICAgICAxMDAlIHsgdHJhbnNmb3JtOiByb3RhdGVYKDcyMGRlZykgcm90YXRlWSgzNjBkZWcpOyB9CiAgICAgICAgfQogICAgICAgIC5kaWUuc2hvdy0xIHsgdHJhbnNmb3JtOiByb3RhdGVYKDBkZWcpIHJvdGF0ZVkoMGRlZyk7IH0KICAgICAgICAuZGllLnNob3ctMiB7IHRyYW5zZm9ybTogcm90YXRlWCgwZGVnKSByb3RhdGVZKC0xODBkZWcpOyB9CiAgICAgICAgLmRpZS5zaG93LTMgeyB0cmFuc2Zvcm06IHJvdGF0ZVgoMGRlZykgcm90YXRlWSgtOTBkZWcpOyB9CiAgICAgICAgLmRpZS5zaG93LTQgeyB0cmFuc2Zvcm06IHJvdGF0ZVgoMGRlZykgcm90YXRlWSg5MGRlZyk7IH0KICAgICAgICAuZGllLnNob3ctNSB7IHRyYW5zZm9ybTogcm90YXRlWCg5MGRlZykgcm90YXRlWSgwZGVnKTsgfQogICAgICAgIC5kaWUuc2hvdy02IHsgdHJhbnNmb3JtOiByb3RhdGVYKC05MGRlZykgcm90YXRlWSgwZGVnKTsgfQoKICAgICAgICAuZ3Vlc3MtYnV0dG9ucyB7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICAgICAgICBnYXA6IDE1cHg7CiAgICAgICAgfQogICAgICAgIC5ndWVzcy1idXR0b25zIGJ1dHRvbiB7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMxNTY1QzA7CiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTsKICAgICAgICAgICAgYm9yZGVyOiBub25lOwogICAgICAgICAgICBwYWRkaW5nOiAxNXB4IDI1cHg7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDsKICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuM3M7CiAgICAgICAgfQogICAgICAgIC5ndWVzcy1idXR0b25zIGJ1dHRvbjpob3ZlciB7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMxOTc2RDI7CiAgICAgICAgfQogICAgICAgIC5ndWVzcy1idXR0b25zIGJ1dHRvbjpkaXNhYmxlZCB7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICM1NTU7CiAgICAgICAgICAgIGN1cnNvcjogbm90LWFsbG93ZWQ7CiAgICAgICAgfQogICAgPC9zdHlsZT4KPC9oZWFkPgo8Ym9keT4KICAgIDxkaXYgY2xhc3M9ImdhbWUtY29udGFpbmVyIj4KICAgICAgICA8aDE+RGllIEJldHRpbmcgR2FtZTwvaDE+CiAgICAgICAgPHA+R3Vlc3MgaWYgdGhlIGRpZSB3aWxsIGJlIEhpZ2ggKDQtNikgb3IgTG93ICgxLTMpITwvcD4KICAgICAgICAKICAgICAgICA8ZGl2IGNsYXNzPSJtb25leS1kaXNwbGF5Ij4KICAgICAgICAgICAgQmFsYW5jZTogJDxzcGFuIGlkPSJiYWxhbmNlIj41MDAwMDwvc3Bhbj4KICAgICAgICA8L2Rpdj4KCiAgICAgICAgPGRpdiBjbGFzcz0iYmV0LWlucHV0LWNvbnRhaW5lciI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImJldC1pbnB1dCI+CiAgICAgICAgICAgICAgICA8c3Bhbj4kPC9zcGFuPgogICAgICAgICAgICAgICAgPGlucHV0IAogICAgICAgICAgICAgICAgICAgIHR5cGU9InRleHQiIAogICAgICAgICAgICAgICAgICAgIGlkPSJjdXN0b20tYmV0IiAKICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj0iRW50ZXIgYmV0IGFtb3VudCIgCiAgICAgICAgICAgICAgICAgICAgaW5wdXRtb2RlPSJudW1lcmljIgogICAgICAgICAgICAgICAgPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgICAKICAgICAgICA8ZGl2IGNsYXNzPSJkaWNlLWNvbnRhaW5lciI+CiAgICAgICAgICAgIDxkaXYgaWQ9ImRpZSIgY2xhc3M9ImRpZSI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJkaWUtZmFjZSBkaWUtZmFjZS0xIj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJkb3RzIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj48L2Rpdj48ZGl2PjwvZGl2PjxkaXY+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PC9kaXY+PGRpdiBjbGFzcz0iZG90Ij48L2Rpdj48ZGl2PjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PjwvZGl2PjxkaXY+PC9kaXY+PGRpdj48L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZGllLWZhY2UgZGllLWZhY2UtMiI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZG90cyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImRvdCI+PC9kaXY+PGRpdj48L2Rpdj48ZGl2PjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PjwvZGl2PjxkaXY+PC9kaXY+PGRpdj48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj48L2Rpdj48ZGl2PjwvZGl2PjxkaXYgY2xhc3M9ImRvdCI+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImRpZS1mYWNlIGRpZS1mYWNlLTMiPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImRvdHMiPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJkb3QiPjwvZGl2PjxkaXY+PC9kaXY+PGRpdj48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj48L2Rpdj48ZGl2IGNsYXNzPSJkb3QiPjwvZGl2PjxkaXY+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PC9kaXY+PGRpdj48L2Rpdj48ZGl2IGNsYXNzPSJkb3QiPjwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJkaWUtZmFjZSBkaWUtZmFjZS00Ij4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJkb3RzIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZG90Ij48L2Rpdj48ZGl2PjwvZGl2PjxkaXYgY2xhc3M9ImRvdCI+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PC9kaXY+PGRpdj48L2Rpdj48ZGl2PjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJkb3QiPjwvZGl2PjxkaXY+PC9kaXY+PGRpdiBjbGFzcz0iZG90Ij48L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZGllLWZhY2UgZGllLWZhY2UtNSI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZG90cyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImRvdCI+PC9kaXY+PGRpdj48L2Rpdj48ZGl2IGNsYXNzPSJkb3QiPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PjwvZGl2PjxkaXYgY2xhc3M9ImRvdCI+PC9kaXY+PGRpdj48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZG90Ij48L2Rpdj48ZGl2PjwvZGl2PjxkaXYgY2xhc3M9ImRvdCI+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImRpZS1mYWNlIGRpZS1mYWNlLTYiPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImRvdHMiPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJkb3QiPjwvZGl2PjxkaXY+PC9kaXY+PGRpdiBjbGFzcz0iZG90Ij48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZG90Ij48L2Rpdj48ZGl2PjwvZGl2PjxkaXYgY2xhc3M9ImRvdCI+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImRvdCI+PC9kaXY+PGRpdj48L2Rpdj48ZGl2IGNsYXNzPSJkb3QiPjwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIAogICAgICAgIDxkaXYgaWQ9ImdhbWUtbWVzc2FnZSI+PC9kaXY+CiAgICAgICAgCiAgICAgICAgPGRpdiBjbGFzcz0iZ3Vlc3MtYnV0dG9ucyI+CiAgICAgICAgICAgIDxidXR0b24gb25jbGljaz0iZ3Vlc3NIaWdoKCkiIGlkPSJoaWdoLWJ0biI+SGlnaCAoNC02KTwvYnV0dG9uPgogICAgICAgICAgICA8YnV0dG9uIG9uY2xpY2s9Imd1ZXNzTG93KCkiIGlkPSJsb3ctYnRuIj5Mb3cgKDEtMyk8L2J1dHRvbj4KICAgICAgICA8L2Rpdj4KICAgICAgICAKICAgICAgICA8ZGl2IGlkPSJnYW1lLW92ZXItbWVzc2FnZSIgY2xhc3M9ImdhbWUtb3ZlciI+PC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8c2NyaXB0PgogICAgICAgIGxldCBiYWxhbmNlID0gNTAwMDA7CiAgICAgICAgbGV0IGlzUm9sbGluZyA9IGZhbHNlOwogICAgICAgIGxldCBjdXJyZW50RGljZVJvbGwgPSAxOwogICAgICAgIGxldCBjdXJyZW50QmV0ID0gMDsKCiAgICAgICAgY29uc3QgY3VzdG9tQmV0SW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3VzdG9tLWJldCcpOwogICAgICAgIGNvbnN0IGJhbGFuY2VEaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JhbGFuY2UnKTsKICAgICAgICBjb25zdCBnYW1lTWVzc2FnZUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2FtZS1tZXNzYWdlJyk7CiAgICAgICAgY29uc3QgZGllRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaWUnKTsKICAgICAgICBjb25zdCBoaWdoQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hpZ2gtYnRuJyk7CiAgICAgICAgY29uc3QgbG93QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvdy1idG4nKTsKCiAgICAgICAgLy8gRm9ybWF0IGlucHV0IHRvIG9ubHkgYWxsb3cgbnVtYmVycwogICAgICAgIGN1c3RvbUJldElucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZnVuY3Rpb24oZSkgewogICAgICAgICAgICAvLyBSZW1vdmUgbm9uLW51bWVyaWMgY2hhcmFjdGVycwogICAgICAgICAgICB0aGlzLnZhbHVlID0gdGhpcy52YWx1ZS5yZXBsYWNlKC9bXjAtOV0vZywgJycpOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gVmFsaWRhdGUgYmV0IGFnYWluc3QgY3VycmVudCBiYWxhbmNlCiAgICAgICAgICAgIGNvbnN0IGJldEFtb3VudCA9IHBhcnNlSW50KHRoaXMudmFsdWUpIHx8IDA7CiAgICAgICAgICAgIGlmIChiZXRBbW91bnQgPiBiYWxhbmNlKSB7CiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlID0gYmFsYW5jZTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwoKICAgICAgICBmdW5jdGlvbiB1cGRhdGVCYWxhbmNlKG5ld0JhbGFuY2UpIHsKICAgICAgICAgICAgYmFsYW5jZSA9IE1hdGgubWF4KDAsIG5ld0JhbGFuY2UpOwogICAgICAgICAgICBiYWxhbmNlRGlzcGxheS50ZXh0Q29udGVudCA9IGJhbGFuY2UudG9Mb2NhbGVTdHJpbmcoKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIChiYWxhbmNlIDw9IDApIHsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYW1lLW92ZXItbWVzc2FnZScpLnRleHRDb250ZW50ID0gJ0dBTUUgT1ZFUiEgWW91XCdyZSBicm9rZSEnOwogICAgICAgICAgICAgICAgZGlzYWJsZUFsbENvbnRyb2xzKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGRpc2FibGVBbGxDb250cm9scygpIHsKICAgICAgICAgICAgaGlnaEJ0bi5kaXNhYmxlZCA9IHRydWU7CiAgICAgICAgICAgIGxvd0J0bi5kaXNhYmxlZCA9IHRydWU7CiAgICAgICAgICAgIGN1c3RvbUJldElucHV0LmRpc2FibGVkID0gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHJvbGxEaWNlKCkgewogICAgICAgICAgICBjdXJyZW50RGljZVJvbGwgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA2KSArIDE7CiAgICAgICAgICAgIHJldHVybiBjdXJyZW50RGljZVJvbGw7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBhbmltYXRlRGljZVJvbGwoZGljZVJvbGwpIHsKICAgICAgICAgICAgLy8gRGlzYWJsZSBhbGwgY29udHJvbHMgZHVyaW5nIHJvbGwKICAgICAgICAgICAgaGlnaEJ0bi5kaXNhYmxlZCA9IHRydWU7CiAgICAgICAgICAgIGxvd0J0bi5kaXNhYmxlZCA9IHRydWU7CiAgICAgICAgICAgIGN1c3RvbUJldElucHV0LmRpc2FibGVkID0gdHJ1ZTsKCiAgICAgICAgICAgIC8vIEFkZCByb2xsaW5nIGNsYXNzCiAgICAgICAgICAgIGRpZUVsZW1lbnQuY2xhc3NMaXN0LmFkZCgncm9sbGluZycpOwoKICAgICAgICAgICAgLy8gQWZ0ZXIgcm9sbGluZyBhbmltYXRpb24sIHNob3cgc3BlY2lmaWMgZmFjZQogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgIGRpZUVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgncm9sbGluZycpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBSZW1vdmUgYW55IHByZXZpb3VzIHNob3cgY2xhc3NlcwogICAgICAgICAgICAgICAgZGllRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdzaG93LTEnLCAnc2hvdy0yJywgJ3Nob3ctMycsICdzaG93LTQnLCAnc2hvdy01JywgJ3Nob3ctNicpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBBZGQgdGhlIGNsYXNzIGZvciB0aGUgcm9sbGVkIG51bWJlcgogICAgICAgICAgICAgICAgZGllRWxlbWVudC5jbGFzc0xpc3QuYWRkKGBzaG93LSR7ZGljZVJvbGx9YCk7CgogICAgICAgICAgICAgICAgLy8gUmUtZW5hYmxlIGJ1dHRvbnMgaWYgZ2FtZSBpcyBub3Qgb3ZlcgogICAgICAgICAgICAgICAgaWYgKGJhbGFuY2UgPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgaGlnaEJ0bi5kaXNhYmxlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIGxvd0J0bi5kaXNhYmxlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIGN1c3RvbUJldElucHV0LmRpc2FibGVkID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIDE1MDApOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gY2hlY2tHdWVzcyh1c2VyR3Vlc3MpIHsKICAgICAgICAgICAgaWYgKGlzUm9sbGluZykgcmV0dXJuOwoKICAgICAgICAgICAgLy8gVmFsaWRhdGUgYmV0CiAgICAgICAgICAgIGNvbnN0IGJldEFtb3VudCA9IHBhcnNlSW50KGN1c3RvbUJldElucHV0LnZhbHVlKSB8fCAwOwogICAgICAgICAgICBpZiAoYmV0QW1vdW50IDw9IDAgfHwgYmV0QW1vdW50ID4gYmFsYW5jZSkgewogICAgICAgICAgICAgICAgZ2FtZU1lc3NhZ2VFbGVtZW50LnRleHRDb250ZW50ID0gJ1BsZWFzZSBlbnRlciBhIHZhbGlkIGJldCBhbW91bnQuJzsKICAgICAgICAgICAgICAgIGdhbWVNZXNzYWdlRWxlbWVudC5zdHlsZS5jb2xvciA9ICcjRkY1MjUyJzsKICAgICAgICAgICAgICAgIGN1c3RvbUJldElucHV0LmNsYXNzTGlzdC5hZGQoJ2lucHV0LWVycm9yJyk7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICBjdXN0b21CZXRJbnB1dC5jbGFzc0xpc3QucmVtb3ZlKCdpbnB1dC1lcnJvcicpOwogICAgICAgICAgICAgICAgICAgIGdhbWVNZXNzYWdlRWxlbWVudC50ZXh0Q29udGVudCA9ICcnOwogICAgICAgICAgICAgICAgfSwgMjAwMCk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlzUm9sbGluZyA9IHRydWU7CiAgICAgICAgICAgIGN1cnJlbnRCZXQgPSBiZXRBbW91bnQ7CiAgICAgICAgICAgIGNvbnN0IGRpY2VSb2xsID0gcm9sbERpY2UoKTsKICAgICAgICAgICAgY29uc3QgaXNIaWdoID0gZGljZVJvbGwgPj0gNDsKCiAgICAgICAgICAgIC8vIEFuaW1hdGUgZGljZSByb2xsCiAgICAgICAgICAgIGFuaW1hdGVEaWNlUm9sbChkaWNlUm9sbCk7CgogICAgICAgICAgICAvLyBSZXNldCBnYW1lIG1lc3NhZ2UKICAgICAgICAgICAgZ2FtZU1lc3NhZ2VFbGVtZW50LnRleHRDb250ZW50ID0gJyc7CgogICAgICAgICAgICAvLyBXYWl0IGZvciBhbmltYXRpb24gdG8gY29tcGxldGUgYmVmb3JlIGNoZWNraW5nIGd1ZXNzCiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgaWYgKHVzZXJHdWVzcyA9PT0gaXNIaWdoKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gV2luOiBNdWx0aXBseSBiZXQgYnkgMS41IHdpdGggcHJlY2lzZSByb3VuZGluZwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHdpbm5pbmdzID0gTWF0aC5yb3VuZChjdXJyZW50QmV0ICogMS41ICogMTAwKSAvIDEwMDsKICAgICAgICAgICAgICAgICAgICB1cGRhdGVCYWxhbmNlKGJhbGFuY2UgKyB3aW5uaW5ncyk7CiAgICAgICAgICAgICAgICAgICAgZ2FtZU1lc3NhZ2VFbGVtZW50LnRleHRDb250ZW50ID0gYENvcnJlY3QhIFlvdSB3b24gJCR7d2lubmluZ3MudG9Mb2NhbGVTdHJpbmcoKX0hIChSb2xsZWQgJHtjdXJyZW50RGljZVJvbGx9KWA7CiAgICAgICAgICAgICAgICAgICAgZ2FtZU1lc3NhZ2VFbGVtZW50LnN0eWxlLmNvbG9yID0gJyM0Q0FGNTAnOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAvLyBMb3NlOiBTdWJ0cmFjdCBiZXQKICAgICAgICAgICAgICAgICAgICB1cGRhdGVCYWxhbmNlKGJhbGFuY2UgLSBjdXJyZW50QmV0KTsKICAgICAgICAgICAgICAgICAgICBnYW1lTWVzc2FnZUVsZW1lbnQudGV4dENvbnRlbnQgPSBgV3JvbmchIFlvdSBsb3N0ICQke2N1cnJlbnRCZXQudG9Mb2NhbGVTdHJpbmcoKX0uIChSb2xsZWQgJHtjdXJyZW50RGljZVJvbGx9KWA7CiAgICAgICAgICAgICAgICAgICAgZ2FtZU1lc3NhZ2VFbGVtZW50LnN0eWxlLmNvbG9yID0gJyNGRjUyNTInOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vIENsZWFyIGJldCBpbnB1dAogICAgICAgICAgICAgICAgY3VzdG9tQmV0SW5wdXQudmFsdWUgPSAnJzsKICAgICAgICAgICAgICAgIGlzUm9sbGluZyA9IGZhbHNlOwogICAgICAgICAgICB9LCAxNzAwKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGd1ZXNzSGlnaCgpIHsKICAgICAgICAgICAgY2hlY2tHdWVzcyh0cnVlKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGd1ZXNzTG93KCkgewogICAgICAgICAgICBjaGVja0d1ZXNzKGZhbHNlKTsKICAgICAgICB9CgogICAgICAgIC8vIEluaXRpYWxpemUgYmFsYW5jZSBkaXNwbGF5CiAgICAgICAgdXBkYXRlQmFsYW5jZShiYWxhbmNlKTsKICAgIDwvc2NyaXB0Pgo8L2JvZHk+CjwvaHRtbD4=";
            } else if (game === 'game2') {
                frame.src = "data:text/html;base64,PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8dGl0bGU+RGllIEJldHRpbmcgR2FtZSAtIEN1c3RvbSBCZXQ8L3RpdGxlPgogICAgPHN0eWxlPgogICAgICAgIGJvZHkgewogICAgICAgICAgICBmb250LWZhbWlseTogQXJpYWwsIHNhbnMtc2VyaWY7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgICBoZWlnaHQ6IDEwMHZoOwogICAgICAgICAgICBtYXJnaW46IDA7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMxMjEyMTI7CiAgICAgICAgICAgIGNvbG9yOiAjZTBlMGUwOwogICAgICAgICAgICBmb250LXNpemU6IDE4cHg7CiAgICAgICAgfQogICAgICAgIC5nYW1lLWNvbnRhaW5lciB7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMxZTFlMWU7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDE1cHg7CiAgICAgICAgICAgIHBhZGRpbmc6IDQwcHg7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgNnB4IDhweCByZ2JhKDI1NSwyNTUsMjU1LDAuMSk7CiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAgICAgd2lkdGg6IDUwMHB4OwogICAgICAgICAgICBtYXgtd2lkdGg6IDkwJTsKICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgIzMzMzsKICAgICAgICB9CiAgICAgICAgaDEgewogICAgICAgICAgICBmb250LXNpemU6IDIuNWVtOwogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4OwogICAgICAgICAgICBjb2xvcjogI2ZmZmZmZjsKICAgICAgICB9CiAgICAgICAgLmJldC1pbnB1dC1jb250YWluZXIgewogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDsKICAgICAgICB9CiAgICAgICAgLmJldC1pbnB1dCB7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMyYzJjMmM7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDsKICAgICAgICAgICAgcGFkZGluZzogMTBweDsKICAgICAgICAgICAgYm9yZGVyOiAycHggc29saWQgIzQ0NDsKICAgICAgICB9CiAgICAgICAgLmJldC1pbnB1dCBzcGFuIHsKICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiAxMHB4OwogICAgICAgICAgICBjb2xvcjogIzg4ODsKICAgICAgICB9CiAgICAgICAgI2N1c3RvbS1iZXQgewogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDsKICAgICAgICAgICAgYm9yZGVyOiBub25lOwogICAgICAgICAgICBjb2xvcjogI2UwZTBlMDsKICAgICAgICAgICAgZm9udC1zaXplOiAxOHB4OwogICAgICAgICAgICB3aWR0aDogMTUwcHg7CiAgICAgICAgICAgIHRleHQtYWxpZ246IHJpZ2h0OwogICAgICAgICAgICBvdXRsaW5lOiBub25lOwogICAgICAgIH0KICAgICAgICAuaW5wdXQtZXJyb3IgewogICAgICAgICAgICBib3JkZXItY29sb3I6ICNGRjUyNTIgIWltcG9ydGFudDsKICAgICAgICB9CiAgICAgICAgLmRpY2UtY29udGFpbmVyIHsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDMwcHg7CiAgICAgICAgICAgIHBlcnNwZWN0aXZlOiAxMDAwcHg7CiAgICAgICAgfQogICAgICAgIC5kaWUgewogICAgICAgICAgICB3aWR0aDogMjAwcHg7CiAgICAgICAgICAgIGhlaWdodDogMjAwcHg7CiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgICAgICAgICAgdHJhbnNmb3JtLXN0eWxlOiBwcmVzZXJ2ZS0zZDsKICAgICAgICAgICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDFzOwogICAgICAgIH0KICAgICAgICAuZGllLWZhY2UgewogICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgICAgICBoZWlnaHQ6IDEwMCU7CiAgICAgICAgICAgIGJvcmRlcjogM3B4IHNvbGlkICM1NTU7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDE1cHg7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMyYTJhMmE7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgICBiYWNrZmFjZS12aXNpYmlsaXR5OiBoaWRkZW47CiAgICAgICAgfQogICAgICAgIC5kaWUtZmFjZSAuZG90cyB7CiAgICAgICAgICAgIGRpc3BsYXk6IGdyaWQ7CiAgICAgICAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDMsIDFmcik7CiAgICAgICAgICAgIGdyaWQtdGVtcGxhdGUtcm93czogcmVwZWF0KDMsIDFmcik7CiAgICAgICAgICAgIHdpZHRoOiA4MCU7CiAgICAgICAgICAgIGhlaWdodDogODAlOwogICAgICAgIH0KICAgICAgICAuZGllLWZhY2UgLmRvdCB7CiAgICAgICAgICAgIHdpZHRoOiAyNXB4OwogICAgICAgICAgICBoZWlnaHQ6IDI1cHg7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNlMGUwZTA7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTsKICAgICAgICAgICAgbWFyZ2luOiA4cHg7CiAgICAgICAgfQogICAgICAgIC5kaWUtZmFjZS0xIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVaKDEwMHB4KTsgfQogICAgICAgIC5kaWUtZmFjZS0yIHsgdHJhbnNmb3JtOiByb3RhdGVZKDE4MGRlZykgdHJhbnNsYXRlWigxMDBweCk7IH0KICAgICAgICAuZGllLWZhY2UtMyB7IHRyYW5zZm9ybTogcm90YXRlWSg5MGRlZykgdHJhbnNsYXRlWigxMDBweCk7IH0KICAgICAgICAuZGllLWZhY2UtNCB7IHRyYW5zZm9ybTogcm90YXRlWSgtOTBkZWcpIHRyYW5zbGF0ZVooMTAwcHgpOyB9CiAgICAgICAgLmRpZS1mYWNlLTUgeyB0cmFuc2Zvcm06IHJvdGF0ZVgoLTkwZGVnKSB0cmFuc2xhdGVaKDEwMHB4KTsgfQogICAgICAgIC5kaWUtZmFjZS02IHsgdHJhbnNmb3JtOiByb3RhdGVYKDkwZGVnKSB0cmFuc2xhdGVaKDEwMHB4KTsgfQoKICAgICAgICAuZGllLnJvbGxpbmcgewogICAgICAgICAgICBhbmltYXRpb246IHJvbGwgMS41cyBpbmZpbml0ZSBsaW5lYXI7CiAgICAgICAgfQogICAgICAgIEBrZXlmcmFtZXMgcm9sbCB7CiAgICAgICAgICAgIDAlIHsgdHJhbnNmb3JtOiByb3RhdGVYKDBkZWcpIHJvdGF0ZVkoMGRlZyk7IH0KICAgICAgICAgICAgMjUlIHsgdHJhbnNmb3JtOiByb3RhdGVYKDE4MGRlZykgcm90YXRlWSg5MGRlZyk7IH0KICAgICAgICAgICAgNTAlIHsgdHJhbnNmb3JtOiByb3RhdGVYKDM2MGRlZykgcm90YXRlWSgyNzBkZWcpOyB9CiAgICAgICAgICAgIDc1JSB7IHRyYW5zZm9ybTogcm90YXRlWCg1NDBkZWcpIHJvdGF0ZVkoMTgwZGVnKTsgfQogICAgICAgICAgICAxMDAlIHsgdHJhbnNmb3JtOiByb3RhdGVYKDcyMGRlZykgcm90YXRlWSgzNjBkZWcpOyB9CiAgICAgICAgfQogICAgICAgIC5kaWUuc2hvdy0xIHsgdHJhbnNmb3JtOiByb3RhdGVYKDBkZWcpIHJvdGF0ZVkoMGRlZyk7IH0KICAgICAgICAuZGllLnNob3ctMiB7IHRyYW5zZm9ybTogcm90YXRlWCgwZGVnKSByb3RhdGVZKC0xODBkZWcpOyB9CiAgICAgICAgLmRpZS5zaG93LTMgeyB0cmFuc2Zvcm06IHJvdGF0ZVgoMGRlZykgcm90YXRlWSgtOTBkZWcpOyB9CiAgICAgICAgLmRpZS5zaG93LTQgeyB0cmFuc2Zvcm06IHJvdGF0ZVgoMGRlZykgcm90YXRlWSg5MGRlZyk7IH0KICAgICAgICAuZGllLnNob3ctNSB7IHRyYW5zZm9ybTogcm90YXRlWCg5MGRlZykgcm90YXRlWSgwZGVnKTsgfQogICAgICAgIC5kaWUuc2hvdy02IHsgdHJhbnNmb3JtOiByb3RhdGVYKC05MGRlZykgcm90YXRlWSgwZGVnKTsgfQoKICAgICAgICAuZ3Vlc3MtYnV0dG9ucyB7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICAgICAgICBnYXA6IDE1cHg7CiAgICAgICAgfQogICAgICAgIC5ndWVzcy1idXR0b25zIGJ1dHRvbiB7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMxNTY1QzA7CiAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTsKICAgICAgICAgICAgYm9yZGVyOiBub25lOwogICAgICAgICAgICBwYWRkaW5nOiAxNXB4IDI1cHg7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDsKICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuM3M7CiAgICAgICAgfQogICAgICAgIC5ndWVzcy1idXR0b25zIGJ1dHRvbjpob3ZlciB7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMxOTc2RDI7CiAgICAgICAgfQogICAgICAgIC5ndWVzcy1idXR0b25zIGJ1dHRvbjpkaXNhYmxlZCB7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICM1NTU7CiAgICAgICAgICAgIGN1cnNvcjogbm90LWFsbG93ZWQ7CiAgICAgICAgfQogICAgPC9zdHlsZT4KPC9oZWFkPgo8Ym9keT4KICAgIDxkaXYgY2xhc3M9ImdhbWUtY29udGFpbmVyIj4KICAgICAgICA8aDE+RGllIEJldHRpbmcgR2FtZTwvaDE+CiAgICAgICAgPHA+R3Vlc3MgaWYgdGhlIGRpZSB3aWxsIGJlIEhpZ2ggKDQtNikgb3IgTG93ICgxLTMpITwvcD4KICAgICAgICAKICAgICAgICA8ZGl2IGNsYXNzPSJtb25leS1kaXNwbGF5Ij4KICAgICAgICAgICAgQmFsYW5jZTogJDxzcGFuIGlkPSJiYWxhbmNlIj41MDAwMDwvc3Bhbj4KICAgICAgICA8L2Rpdj4KCiAgICAgICAgPGRpdiBjbGFzcz0iYmV0LWlucHV0LWNvbnRhaW5lciI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImJldC1pbnB1dCI+CiAgICAgICAgICAgICAgICA8c3Bhbj4kPC9zcGFuPgogICAgICAgICAgICAgICAgPGlucHV0IAogICAgICAgICAgICAgICAgICAgIHR5cGU9InRleHQiIAogICAgICAgICAgICAgICAgICAgIGlkPSJjdXN0b20tYmV0IiAKICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj0iRW50ZXIgYmV0IGFtb3VudCIgCiAgICAgICAgICAgICAgICAgICAgaW5wdXRtb2RlPSJudW1lcmljIgogICAgICAgICAgICAgICAgPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgICAKICAgICAgICA8ZGl2IGNsYXNzPSJkaWNlLWNvbnRhaW5lciI+CiAgICAgICAgICAgIDxkaXYgaWQ9ImRpZSIgY2xhc3M9ImRpZSI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJkaWUtZmFjZSBkaWUtZmFjZS0xIj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJkb3RzIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj48L2Rpdj48ZGl2PjwvZGl2PjxkaXY+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PC9kaXY+PGRpdiBjbGFzcz0iZG90Ij48L2Rpdj48ZGl2PjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PjwvZGl2PjxkaXY+PC9kaXY+PGRpdj48L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZGllLWZhY2UgZGllLWZhY2UtMiI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZG90cyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImRvdCI+PC9kaXY+PGRpdj48L2Rpdj48ZGl2PjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PjwvZGl2PjxkaXY+PC9kaXY+PGRpdj48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj48L2Rpdj48ZGl2PjwvZGl2PjxkaXYgY2xhc3M9ImRvdCI+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImRpZS1mYWNlIGRpZS1mYWNlLTMiPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImRvdHMiPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJkb3QiPjwvZGl2PjxkaXY+PC9kaXY+PGRpdj48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj48L2Rpdj48ZGl2IGNsYXNzPSJkb3QiPjwvZGl2PjxkaXY+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PC9kaXY+PGRpdj48L2Rpdj48ZGl2IGNsYXNzPSJkb3QiPjwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJkaWUtZmFjZSBkaWUtZmFjZS00Ij4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJkb3RzIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZG90Ij48L2Rpdj48ZGl2PjwvZGl2PjxkaXYgY2xhc3M9ImRvdCI+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+PC9kaXY+PGRpdj48L2Rpdj48ZGl2PjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJkb3QiPjwvZGl2PjxkaXY+PC9kaXY+PGRpdiBjbGFzcz0iZG90Ij48L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZGllLWZhY2UgZGllLWZhY2UtNSI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZG90cyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImRvdCI+PC9kaXY+PGRpdj48L2Rpdj48ZGl2IGNsYXNzPSJkb3QiPjwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PjwvZGl2PjxkaXYgY2xhc3M9ImRvdCI+PC9kaXY+PGRpdj48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZG90Ij48L2Rpdj48ZGl2PjwvZGl2PjxkaXYgY2xhc3M9ImRvdCI+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImRpZS1mYWNlIGRpZS1mYWNlLTYiPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImRvdHMiPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJkb3QiPjwvZGl2PjxkaXY+PC9kaXY+PGRpdiBjbGFzcz0iZG90Ij48L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZG90Ij48L2Rpdj48ZGl2PjwvZGl2PjxkaXYgY2xhc3M9ImRvdCI+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImRvdCI+PC9kaXY+PGRpdj48L2Rpdj48ZGl2IGNsYXNzPSJkb3QiPjwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIAogICAgICAgIDxkaXYgaWQ9ImdhbWUtbWVzc2FnZSI+PC9kaXY+CiAgICAgICAgCiAgICAgICAgPGRpdiBjbGFzcz0iZ3Vlc3MtYnV0dG9ucyI+CiAgICAgICAgICAgIDxidXR0b24gb25jbGljaz0iZ3Vlc3NIaWdoKCkiIGlkPSJoaWdoLWJ0biI+SGlnaCAoNC02KTwvYnV0dG9uPgogICAgICAgICAgICA8YnV0dG9uIG9uY2xpY2s9Imd1ZXNzTG93KCkiIGlkPSJsb3ctYnRuIj5Mb3cgKDEtMyk8L2J1dHRvbj4KICAgICAgICA8L2Rpdj4KICAgICAgICAKICAgICAgICA8ZGl2IGlkPSJnYW1lLW92ZXItbWVzc2FnZSIgY2xhc3M9ImdhbWUtb3ZlciI+PC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8c2NyaXB0PgogICAgICAgIGxldCBiYWxhbmNlID0gNTAwMDA7CiAgICAgICAgbGV0IGlzUm9sbGluZyA9IGZhbHNlOwogICAgICAgIGxldCBjdXJyZW50RGljZVJvbGwgPSAxOwogICAgICAgIGxldCBjdXJyZW50QmV0ID0gMDsKCiAgICAgICAgY29uc3QgY3VzdG9tQmV0SW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3VzdG9tLWJldCcpOwogICAgICAgIGNvbnN0IGJhbGFuY2VEaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JhbGFuY2UnKTsKICAgICAgICBjb25zdCBnYW1lTWVzc2FnZUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2FtZS1tZXNzYWdlJyk7CiAgICAgICAgY29uc3QgZGllRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaWUnKTsKICAgICAgICBjb25zdCBoaWdoQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hpZ2gtYnRuJyk7CiAgICAgICAgY29uc3QgbG93QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvdy1idG4nKTsKCiAgICAgICAgLy8gRm9ybWF0IGlucHV0IHRvIG9ubHkgYWxsb3cgbnVtYmVycwogICAgICAgIGN1c3RvbUJldElucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZnVuY3Rpb24oZSkgewogICAgICAgICAgICAvLyBSZW1vdmUgbm9uLW51bWVyaWMgY2hhcmFjdGVycwogICAgICAgICAgICB0aGlzLnZhbHVlID0gdGhpcy52YWx1ZS5yZXBsYWNlKC9bXjAtOV0vZywgJycpOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gVmFsaWRhdGUgYmV0IGFnYWluc3QgY3VycmVudCBiYWxhbmNlCiAgICAgICAgICAgIGNvbnN0IGJldEFtb3VudCA9IHBhcnNlSW50KHRoaXMudmFsdWUpIHx8IDA7CiAgICAgICAgICAgIGlmIChiZXRBbW91bnQgPiBiYWxhbmNlKSB7CiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlID0gYmFsYW5jZTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwoKICAgICAgICBmdW5jdGlvbiB1cGRhdGVCYWxhbmNlKG5ld0JhbGFuY2UpIHsKICAgICAgICAgICAgYmFsYW5jZSA9IE1hdGgubWF4KDAsIG5ld0JhbGFuY2UpOwogICAgICAgICAgICBiYWxhbmNlRGlzcGxheS50ZXh0Q29udGVudCA9IGJhbGFuY2UudG9Mb2NhbGVTdHJpbmcoKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIChiYWxhbmNlIDw9IDApIHsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYW1lLW92ZXItbWVzc2FnZScpLnRleHRDb250ZW50ID0gJ0dBTUUgT1ZFUiEgWW91XCdyZSBicm9rZSEnOwogICAgICAgICAgICAgICAgZGlzYWJsZUFsbENvbnRyb2xzKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGRpc2FibGVBbGxDb250cm9scygpIHsKICAgICAgICAgICAgaGlnaEJ0bi5kaXNhYmxlZCA9IHRydWU7CiAgICAgICAgICAgIGxvd0J0bi5kaXNhYmxlZCA9IHRydWU7CiAgICAgICAgICAgIGN1c3RvbUJldElucHV0LmRpc2FibGVkID0gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHJvbGxEaWNlKCkgewogICAgICAgICAgICBjdXJyZW50RGljZVJvbGwgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA2KSArIDE7CiAgICAgICAgICAgIHJldHVybiBjdXJyZW50RGljZVJvbGw7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBhbmltYXRlRGljZVJvbGwoZGljZVJvbGwpIHsKICAgICAgICAgICAgLy8gRGlzYWJsZSBhbGwgY29udHJvbHMgZHVyaW5nIHJvbGwKICAgICAgICAgICAgaGlnaEJ0bi5kaXNhYmxlZCA9IHRydWU7CiAgICAgICAgICAgIGxvd0J0bi5kaXNhYmxlZCA9IHRydWU7CiAgICAgICAgICAgIGN1c3RvbUJldElucHV0LmRpc2FibGVkID0gdHJ1ZTsKCiAgICAgICAgICAgIC8vIEFkZCByb2xsaW5nIGNsYXNzCiAgICAgICAgICAgIGRpZUVsZW1lbnQuY2xhc3NMaXN0LmFkZCgncm9sbGluZycpOwoKICAgICAgICAgICAgLy8gQWZ0ZXIgcm9sbGluZyBhbmltYXRpb24sIHNob3cgc3BlY2lmaWMgZmFjZQogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgIGRpZUVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgncm9sbGluZycpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBSZW1vdmUgYW55IHByZXZpb3VzIHNob3cgY2xhc3NlcwogICAgICAgICAgICAgICAgZGllRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdzaG93LTEnLCAnc2hvdy0yJywgJ3Nob3ctMycsICdzaG93LTQnLCAnc2hvdy01JywgJ3Nob3ctNicpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBBZGQgdGhlIGNsYXNzIGZvciB0aGUgcm9sbGVkIG51bWJlcgogICAgICAgICAgICAgICAgZGllRWxlbWVudC5jbGFzc0xpc3QuYWRkKGBzaG93LSR7ZGljZVJvbGx9YCk7CgogICAgICAgICAgICAgICAgLy8gUmUtZW5hYmxlIGJ1dHRvbnMgaWYgZ2FtZSBpcyBub3Qgb3ZlcgogICAgICAgICAgICAgICAgaWYgKGJhbGFuY2UgPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgaGlnaEJ0bi5kaXNhYmxlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIGxvd0J0bi5kaXNhYmxlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIGN1c3RvbUJldElucHV0LmRpc2FibGVkID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIDE1MDApOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gY2hlY2tHdWVzcyh1c2VyR3Vlc3MpIHsKICAgICAgICAgICAgaWYgKGlzUm9sbGluZykgcmV0dXJuOwoKICAgICAgICAgICAgLy8gVmFsaWRhdGUgYmV0CiAgICAgICAgICAgIGNvbnN0IGJldEFtb3VudCA9IHBhcnNlSW50KGN1c3RvbUJldElucHV0LnZhbHVlKSB8fCAwOwogICAgICAgICAgICBpZiAoYmV0QW1vdW50IDw9IDAgfHwgYmV0QW1vdW50ID4gYmFsYW5jZSkgewogICAgICAgICAgICAgICAgZ2FtZU1lc3NhZ2VFbGVtZW50LnRleHRDb250ZW50ID0gJ1BsZWFzZSBlbnRlciBhIHZhbGlkIGJldCBhbW91bnQuJzsKICAgICAgICAgICAgICAgIGdhbWVNZXNzYWdlRWxlbWVudC5zdHlsZS5jb2xvciA9ICcjRkY1MjUyJzsKICAgICAgICAgICAgICAgIGN1c3RvbUJldElucHV0LmNsYXNzTGlzdC5hZGQoJ2lucHV0LWVycm9yJyk7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICBjdXN0b21CZXRJbnB1dC5jbGFzc0xpc3QucmVtb3ZlKCdpbnB1dC1lcnJvcicpOwogICAgICAgICAgICAgICAgICAgIGdhbWVNZXNzYWdlRWxlbWVudC50ZXh0Q29udGVudCA9ICcnOwogICAgICAgICAgICAgICAgfSwgMjAwMCk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlzUm9sbGluZyA9IHRydWU7CiAgICAgICAgICAgIGN1cnJlbnRCZXQgPSBiZXRBbW91bnQ7CiAgICAgICAgICAgIGNvbnN0IGRpY2VSb2xsID0gcm9sbERpY2UoKTsKICAgICAgICAgICAgY29uc3QgaXNIaWdoID0gZGljZVJvbGwgPj0gNDsKCiAgICAgICAgICAgIC8vIEFuaW1hdGUgZGljZSByb2xsCiAgICAgICAgICAgIGFuaW1hdGVEaWNlUm9sbChkaWNlUm9sbCk7CgogICAgICAgICAgICAvLyBSZXNldCBnYW1lIG1lc3NhZ2UKICAgICAgICAgICAgZ2FtZU1lc3NhZ2VFbGVtZW50LnRleHRDb250ZW50ID0gJyc7CgogICAgICAgICAgICAvLyBXYWl0IGZvciBhbmltYXRpb24gdG8gY29tcGxldGUgYmVmb3JlIGNoZWNraW5nIGd1ZXNzCiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgaWYgKHVzZXJHdWVzcyA9PT0gaXNIaWdoKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gV2luOiBNdWx0aXBseSBiZXQgYnkgMS41IHdpdGggcHJlY2lzZSByb3VuZGluZwogICAgICAgICAgICAgICAgICAgIGNvbnN0IHdpbm5pbmdzID0gTWF0aC5yb3VuZChjdXJyZW50QmV0ICogMS41ICogMTAwKSAvIDEwMDsKICAgICAgICAgICAgICAgICAgICB1cGRhdGVCYWxhbmNlKGJhbGFuY2UgKyB3aW5uaW5ncyk7CiAgICAgICAgICAgICAgICAgICAgZ2FtZU1lc3NhZ2VFbGVtZW50LnRleHRDb250ZW50ID0gYENvcnJlY3QhIFlvdSB3b24gJCR7d2lubmluZ3MudG9Mb2NhbGVTdHJpbmcoKX0hIChSb2xsZWQgJHtjdXJyZW50RGljZVJvbGx9KWA7CiAgICAgICAgICAgICAgICAgICAgZ2FtZU1lc3NhZ2VFbGVtZW50LnN0eWxlLmNvbG9yID0gJyM0Q0FGNTAnOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAvLyBMb3NlOiBTdWJ0cmFjdCBiZXQKICAgICAgICAgICAgICAgICAgICB1cGRhdGVCYWxhbmNlKGJhbGFuY2UgLSBjdXJyZW50QmV0KTsKICAgICAgICAgICAgICAgICAgICBnYW1lTWVzc2FnZUVsZW1lbnQudGV4dENvbnRlbnQgPSBgV3JvbmchIFlvdSBsb3N0ICQke2N1cnJlbnRCZXQudG9Mb2NhbGVTdHJpbmcoKX0uIChSb2xsZWQgJHtjdXJyZW50RGljZVJvbGx9KWA7CiAgICAgICAgICAgICAgICAgICAgZ2FtZU1lc3NhZ2VFbGVtZW50LnN0eWxlLmNvbG9yID0gJyNGRjUyNTInOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vIENsZWFyIGJldCBpbnB1dAogICAgICAgICAgICAgICAgY3VzdG9tQmV0SW5wdXQudmFsdWUgPSAnJzsKICAgICAgICAgICAgICAgIGlzUm9sbGluZyA9IGZhbHNlOwogICAgICAgICAgICB9LCAxNzAwKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGd1ZXNzSGlnaCgpIHsKICAgICAgICAgICAgY2hlY2tHdWVzcyh0cnVlKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGd1ZXNzTG93KCkgewogICAgICAgICAgICBjaGVja0d1ZXNzKGZhbHNlKTsKICAgICAgICB9CgogICAgICAgIC8vIEluaXRpYWxpemUgYmFsYW5jZSBkaXNwbGF5CiAgICAgICAgdXBkYXRlQmFsYW5jZShiYWxhbmNlKTsKICAgIDwvc2NyaXB0Pgo8L2JvZHk+CjwvaHRtbD4=";
            } else if (game === 'game3') {
                frame.src = "data:text/html;base64,PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8dGl0bGU+THV4ZSBSb3VsZXR0ZTwvdGl0bGU+CiAgICA8c3R5bGU+CiAgICAgICAgYm9keSB7CiAgICAgICAgICAgIGZvbnQtZmFtaWx5OiAnU2Vnb2UgVUknLCBUYWhvbWEsIEdlbmV2YSwgVmVyZGFuYSwgc2Fucy1zZXJpZjsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgIGhlaWdodDogMTAwdmg7CiAgICAgICAgICAgIG1hcmdpbjogMDsKICAgICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzFhMWEyZSwgIzE2MjEzZSk7CiAgICAgICAgICAgIGNvbG9yOiAjZTllOWYwOwogICAgICAgIH0KICAgICAgICAucm91bGV0dGUtY29udGFpbmVyIHsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsMjU1LDI1NSwwLjEpOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiAxNXB4OwogICAgICAgICAgICBwYWRkaW5nOiAzMHB4OwogICAgICAgICAgICBib3gtc2hhZG93OiAwIDE1cHggMjVweCByZ2JhKDAsMCwwLDAuMik7CiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAgICAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDEwcHgpOwogICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDI1NSwyNTUsMjU1LDAuMTI1KTsKICAgICAgICAgICAgbWF4LXdpZHRoOiA0NTBweDsKICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgfQogICAgICAgICN3aGVlbC1jb250YWluZXIgewogICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgICAgICAgIHdpZHRoOiAzMDBweDsKICAgICAgICAgICAgaGVpZ2h0OiAzMDBweDsKICAgICAgICAgICAgbWFyZ2luOiAwIGF1dG8gMjBweDsKICAgICAgICAgICAgcGVyc3BlY3RpdmU6IDEwMDBweDsKICAgICAgICB9CiAgICAgICAgI3doZWVsIHsKICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgIGhlaWdodDogMTAwJTsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlOwogICAgICAgICAgICBiYWNrZ3JvdW5kOiBjb25pYy1ncmFkaWVudCgKICAgICAgICAgICAgICAgIHJlZCAwZGVnIDE4ZGVnLCAKICAgICAgICAgICAgICAgIGJsYWNrIDE4ZGVnIDM2ZGVnLAogICAgICAgICAgICAgICAgcmVkIDM2ZGVnIDU0ZGVnLAogICAgICAgICAgICAgICAgYmxhY2sgNTRkZWcgNzJkZWcsCiAgICAgICAgICAgICAgICByZWQgNzJkZWcgOTBkZWcsCiAgICAgICAgICAgICAgICBibGFjayA5MGRlZyAxMDhkZWcsCiAgICAgICAgICAgICAgICByZWQgMTA4ZGVnIDEyNmRlZywKICAgICAgICAgICAgICAgIGJsYWNrIDEyNmRlZyAxNDRkZWcsCiAgICAgICAgICAgICAgICByZWQgMTQ0ZGVnIDE2MmRlZywKICAgICAgICAgICAgICAgIGJsYWNrIDE2MmRlZyAxODBkZWcsCiAgICAgICAgICAgICAgICByZWQgMTgwZGVnIDE5OGRlZywKICAgICAgICAgICAgICAgIGJsYWNrIDE5OGRlZyAyMTZkZWcsCiAgICAgICAgICAgICAgICByZWQgMjE2ZGVnIDIzNGRlZywKICAgICAgICAgICAgICAgIGJsYWNrIDIzNGRlZyAyNTJkZWcsCiAgICAgICAgICAgICAgICByZWQgMjUyZGVnIDI3MGRlZywKICAgICAgICAgICAgICAgIGJsYWNrIDI3MGRlZyAyODhkZWcsCiAgICAgICAgICAgICAgICByZWQgMjg4ZGVnIDMwNmRlZywKICAgICAgICAgICAgICAgIGJsYWNrIDMwNmRlZyAzMjRkZWcsCiAgICAgICAgICAgICAgICByZWQgMzI0ZGVnIDM0MmRlZywKICAgICAgICAgICAgICAgIGJsYWNrIDM0MmRlZyAzNjBkZWcKICAgICAgICAgICAgKTsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCAxMHB4IDIwcHggcmdiYSgwLDAsMCwwLjMpOwogICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgIHRvcDogMDsKICAgICAgICAgICAgbGVmdDogMDsKICAgICAgICAgICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDVzIGN1YmljLWJlemllcigwLjI1LCAwLjEsIDAuMjUsIDEpOwogICAgICAgIH0KICAgICAgICAjbWFya2VyIHsKICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICAgICAgICB0b3A6IC0zNXB4OwogICAgICAgICAgICBsZWZ0OiA1MCU7CiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTsKICAgICAgICAgICAgd2lkdGg6IDA7CiAgICAgICAgICAgIGhlaWdodDogMDsKICAgICAgICAgICAgYm9yZGVyLWxlZnQ6IDIwcHggc29saWQgdHJhbnNwYXJlbnQ7CiAgICAgICAgICAgIGJvcmRlci1yaWdodDogMjBweCBzb2xpZCB0cmFuc3BhcmVudDsKICAgICAgICAgICAgYm9yZGVyLXRvcDogMzVweCBzb2xpZCAjZjBmMGYwOwogICAgICAgICAgICB6LWluZGV4OiAxMDsKICAgICAgICAgICAgZmlsdGVyOiBkcm9wLXNoYWRvdygwIDVweCAzcHggcmdiYSgwLDAsMCwwLjMpKTsKICAgICAgICB9CiAgICAgICAgaW5wdXQsIHNlbGVjdCwgYnV0dG9uIHsKICAgICAgICAgICAgbWFyZ2luOiAxMHB4OwogICAgICAgICAgICBwYWRkaW5nOiAxMHB4OwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7CiAgICAgICAgICAgIGJvcmRlcjogbm9uZTsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsMjU1LDI1NSwwLjIpOwogICAgICAgICAgICBjb2xvcjogd2hpdGU7CiAgICAgICAgfQogICAgICAgIGJ1dHRvbiB7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMwZjM0NjA7CiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICAgICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjNzIGVhc2U7CiAgICAgICAgfQogICAgICAgIGJ1dHRvbjpob3ZlciB7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMxNjIxM2U7CiAgICAgICAgfQogICAgICAgIGJ1dHRvbjpkaXNhYmxlZCB7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICM3Nzc7CiAgICAgICAgICAgIGN1cnNvcjogbm90LWFsbG93ZWQ7CiAgICAgICAgfQogICAgICAgICNyZXN1bHQgewogICAgICAgICAgICBtYXJnaW4tdG9wOiAyMHB4OwogICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDsKICAgICAgICAgICAgY29sb3I6ICNlOTQ1NjA7CiAgICAgICAgfQogICAgICAgICNiYWxhbmNlIHsKICAgICAgICAgICAgZm9udC1zaXplOiAxLjJlbTsKICAgICAgICAgICAgY29sb3I6ICMwZmZmOTU7CiAgICAgICAgfQogICAgPC9zdHlsZT4KPC9oZWFkPgo8Ym9keT4KICAgIDxkaXYgY2xhc3M9InJvdWxldHRlLWNvbnRhaW5lciI+CiAgICAgICAgPGRpdiBpZD0id2hlZWwtY29udGFpbmVyIj4KICAgICAgICAgICAgPGRpdiBpZD0id2hlZWwiPjwvZGl2PgogICAgICAgICAgICA8ZGl2IGlkPSJtYXJrZXIiPjwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXY+CiAgICAgICAgICAgIDxsYWJlbD5CZXQgQW1vdW50OiAKICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJudW1iZXIiIGlkPSJiZXRBbW91bnQiIG1pbj0iMSIgcGxhY2Vob2xkZXI9IkVudGVyIGJldCBhbW91bnQiPgogICAgICAgICAgICA8L2xhYmVsPgogICAgICAgICAgICA8bGFiZWw+QmV0IENvbG9yOiAKICAgICAgICAgICAgICAgIDxzZWxlY3QgaWQ9ImJldENvbG9yIj4KICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJyZWQiPlJlZDwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9ImJsYWNrIj5CbGFjazwvb3B0aW9uPgogICAgICAgICAgICAgICAgPC9zZWxlY3Q+CiAgICAgICAgICAgIDwvbGFiZWw+CiAgICAgICAgICAgIDxidXR0b24gb25jbGljaz0ic3BpbldoZWVsKCkiPlNwaW4gV2hlZWw8L2J1dHRvbj4KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2IGlkPSJyZXN1bHQiPjwvZGl2PgogICAgICAgIDxkaXYgaWQ9ImJhbGFuY2UiPkJhbGFuY2U6ICQxMDAwPC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8c2NyaXB0PgogICAgICAgIGxldCBiYWxhbmNlID0gMTAwMDsKICAgICAgICBsZXQgbGFzdFJvdGF0aW9uID0gMDsKICAgICAgICBsZXQgc3BpbkRpcmVjdGlvbiA9IDE7IC8vIDEgZm9yIGNsb2Nrd2lzZSwgLTEgZm9yIGNvdW50ZXItY2xvY2t3aXNlCgogICAgICAgIGZ1bmN0aW9uIHNwaW5XaGVlbCgpIHsKICAgICAgICAgICAgY29uc3Qgd2hlZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2hlZWwnKTsKICAgICAgICAgICAgY29uc3QgYmV0QW1vdW50ID0gcGFyc2VJbnQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JldEFtb3VudCcpLnZhbHVlKTsKICAgICAgICAgICAgY29uc3QgYmV0Q29sb3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmV0Q29sb3InKS52YWx1ZTsKICAgICAgICAgICAgY29uc3QgcmVzdWx0RGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc3VsdCcpOwogICAgICAgICAgICBjb25zdCBiYWxhbmNlRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JhbGFuY2UnKTsKCiAgICAgICAgICAgIC8vIFZhbGlkYXRlIGJldAogICAgICAgICAgICBpZiAoIWJldEFtb3VudCB8fCBiZXRBbW91bnQgPD0gMCkgewogICAgICAgICAgICAgICAgcmVzdWx0RGl2LnRleHRDb250ZW50ID0gJ1BsZWFzZSBlbnRlciBhIHZhbGlkIGJldCBhbW91bnQnOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoYmV0QW1vdW50ID4gYmFsYW5jZSkgewogICAgICAgICAgICAgICAgcmVzdWx0RGl2LnRleHRDb250ZW50ID0gJ0luc3VmZmljaWVudCBiYWxhbmNlJzsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gQWx0ZXJuYXRlIHNwaW4gZGlyZWN0aW9uCiAgICAgICAgICAgIHNwaW5EaXJlY3Rpb24gKj0gLTE7CgogICAgICAgICAgICAvLyBFbnN1cmUgbXVsdGlwbGUgZnVsbCByb3RhdGlvbnMgcGx1cyBhIHJhbmRvbSBmaW5hbCBwb3NpdGlvbgogICAgICAgICAgICBjb25zdCBmdWxsUm90YXRpb25zID0gMTAgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA1KTsgLy8gMTAtMTQgZnVsbCByb3RhdGlvbnMKICAgICAgICAgICAgY29uc3QgcmFuZG9tRGVncmVlID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMzYwKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSB0b3RhbCByb3RhdGlvbgogICAgICAgICAgICBjb25zdCB0b3RhbFJvdGF0aW9uID0gbGFzdFJvdGF0aW9uICsgKHNwaW5EaXJlY3Rpb24gKiAoKGZ1bGxSb3RhdGlvbnMgKiAzNjApICsgcmFuZG9tRGVncmVlKSk7CiAgICAgICAgICAgIHdoZWVsLnN0eWxlLnRyYW5zZm9ybSA9IGByb3RhdGUoJHt0b3RhbFJvdGF0aW9ufWRlZylgOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gU3RvcmUgdGhlIGxhc3Qgcm90YXRpb24gZm9yIG5leHQgc3BpbgogICAgICAgICAgICBsYXN0Um90YXRpb24gPSB0b3RhbFJvdGF0aW9uOwoKICAgICAgICAgICAgLy8gRGlzYWJsZSBzcGluIGJ1dHRvbiBkdXJpbmcgcm90YXRpb24KICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uJykuZGlzYWJsZWQgPSB0cnVlOwoKICAgICAgICAgICAgLy8gRGV0ZXJtaW5lIHJlc3VsdAogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgZmluYWwgcm90YXRpb24sIG5vcm1hbGl6ZSB0byBwb3NpdGl2ZSB2YWx1ZQogICAgICAgICAgICAgICAgY29uc3QgZmluYWxEZWdyZWUgPSBNYXRoLmFicyh0b3RhbFJvdGF0aW9uICUgMzYwKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gU2VjdG9ycyBhcmUgZWFjaCAxOCBkZWdyZWVzCiAgICAgICAgICAgICAgICBjb25zdCBzZWN0b3JJbmRleCA9IE1hdGguZmxvb3IoZmluYWxEZWdyZWUgLyAxOCk7CiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRTZWN0b3IgPSBzZWN0b3JJbmRleCAlIDIgPT09IDAgPyAncmVkJyA6ICdibGFjayc7CgogICAgICAgICAgICAgICAgbGV0IHJlc3VsdFRleHQgPSAnJzsKICAgICAgICAgICAgICAgIGlmIChyZXN1bHRTZWN0b3IgPT09IGJldENvbG9yKSB7CiAgICAgICAgICAgICAgICAgICAgYmFsYW5jZSArPSBiZXRBbW91bnQ7CiAgICAgICAgICAgICAgICAgICAgcmVzdWx0VGV4dCA9IGBZb3Ugd29uICQke2JldEFtb3VudH0hIFRoZSB3aGVlbCBsYW5kZWQgb24gJHtyZXN1bHRTZWN0b3J9LmA7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGJhbGFuY2UgLT0gYmV0QW1vdW50OwogICAgICAgICAgICAgICAgICAgIHJlc3VsdFRleHQgPSBgWW91IGxvc3QgJCR7YmV0QW1vdW50fS4gVGhlIHdoZWVsIGxhbmRlZCBvbiAke3Jlc3VsdFNlY3Rvcn0uYDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXN1bHREaXYudGV4dENvbnRlbnQgPSByZXN1bHRUZXh0OwogICAgICAgICAgICAgICAgYmFsYW5jZURpdi50ZXh0Q29udGVudCA9IGBCYWxhbmNlOiAkJHtiYWxhbmNlfWA7CgogICAgICAgICAgICAgICAgLy8gUmUtZW5hYmxlIHNwaW4gYnV0dG9uCiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b24nKS5kaXNhYmxlZCA9IGZhbHNlOwoKICAgICAgICAgICAgICAgIC8vIEdhbWUgb3ZlciBjaGVjawogICAgICAgICAgICAgICAgaWYgKGJhbGFuY2UgPD0gMCkgewogICAgICAgICAgICAgICAgICAgIHJlc3VsdERpdi50ZXh0Q29udGVudCArPSAnIEdhbWUgT3ZlciEgWW91IHJhbiBvdXQgb2YgbW9uZXkuJzsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b24nKS5kaXNhYmxlZCA9IHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIDUwMDApOwogICAgICAgIH0KICAgIDwvc2NyaXB0Pgo8L2JvZHk+CjwvaHRtbD4=";
            }
            
            menu.style.display = 'none';
            frame.style.display = 'block';
            backButton.style.display = 'block';
        }

        function goHome() {
            const frame = document.getElementById('game-frame');
            const menu = document.getElementById('game-menu');
            const backButton = document.getElementById('back-button');
            
            frame.src = '';
            frame.style.display = 'none';
            menu.style.display = 'flex';
            backButton.style.display = 'none';
        }
    </script>
</body>
</html>
